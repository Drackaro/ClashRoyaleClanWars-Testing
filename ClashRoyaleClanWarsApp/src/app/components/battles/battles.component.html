<div *ngIf="is_Admin" class="add flex justify-content-center">
  <p-button (click)="showAdd()" icon="pi pi-plus-circle" label="Add Battle"></p-button>

</div>

<div *ngIf="visibleAdd" class="row mt-2">

  <div class="col">
    <p-dropdown [(ngModel)]="selectedWinner" [filter]="true" [options]="players" [showClear]="true" class="form"
                filterBy="alias" optionLabel="alias" placeholder="Select a Winner">
      <ng-template pTemplate="selectedItem">
        <div *ngIf="selectedWinner" class="flex align-items-center gap-2">
          <div>{{ selectedWinner.alias }}</div>
        </div>
      </ng-template>
      <ng-template let-player pTemplate="item">
        <div class="flex align-items-center gap-2">
          <div>{{ player.id + "  " + player.alias }}</div>
        </div>
      </ng-template>
    </p-dropdown>
  </div>

  <div class="col">
    <p-dropdown [(ngModel)]="selectedLoser" [filter]="true" [options]="players" [showClear]="true" class="form"
                filterBy="alias" optionLabel="alias" placeholder="Select a Loser">
      <ng-template pTemplate="selectedItem">
        <div *ngIf="selectedLoser" class="flex align-items-center gap-2">
          <div>{{ selectedLoser.alias }}</div>
        </div>
      </ng-template>
      <ng-template let-player pTemplate="item">
        <div class="flex align-items-center gap-2">
          <div>{{ player.id + "  " + player.alias }}</div>
        </div>
      </ng-template>
    </p-dropdown>
  </div>

  <div class="col">
    <p-inputNumber [(ngModel)]="duration" [max]="300" [min]="1" inputId="integeronly"
                   placeholder="Duration In Seconds [1-300]"></p-inputNumber>
  </div>

  <div class="col">
    <p-inputNumber [(ngModel)]="trophies" [max]="40" [min]="10" inputId="integeronly"
                   placeholder="Trophies [10-40]"></p-inputNumber>
  </div>

  <div class="col">
    <p-calendar [(ngModel)]="date" [showButtonBar]="true" [showIcon]="true" [showSeconds]="true" [showTime]="true"
                placeholder="Date"></p-calendar>
  </div>

  <div>
    <p-button (click)="Post()" [raised]="true" [rounded]="true" [text]="true" class="form"
              icon="pi pi-check"></p-button>
  </div>

</div>


<clash-grid #grid
            [columns]="queryColumns"
            [dataService]="battleSer"
            [itemParsingFunction]="itemParsingFunction"
            [primaryKey]="'id'"
            [title]="'Battles'"
>
</clash-grid>
